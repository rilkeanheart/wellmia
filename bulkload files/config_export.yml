# Autogenerated bulkloader.yaml file.
# You must edit this file before using it. TODO: Remove this line when done.
# At a minimum address the items marked with TODO:
#  * Fill in connector and connector_options
#  * Review the property_map.
#    - Ensure the 'external_name' matches the name of your CSV column,
#      XML tag, etc.
#    - Check that __key__ property is what you want. Its value will become
#      the key name on import, and on export the value will be the Key
#      object.  If you would like automatic key generation on import and
#      omitting the key on export, you can remove the entire __key__
#      property from the property map.

# If you have module(s) with your model classes, add them here. Also
# change the kind properties to model_class.
python_preamble:
- import: base64
- import: re
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.bulkload.bulkloader_wizard
- import: google.appengine.ext.db
- import: google.appengine.api.datastore
- import: google.appengine.api.users

transformers:

- kind: CategoryTag
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string
      import_transform: transform.create_foreign_key('Kind', key_is_id=True)

    - property: alias
      external_name: alias
      import_transform:  "lambda x: len(x) > 0 and eval(x) or ''"

    - property: categoryType
      external_name: categoryType
      # Type: String Stats: 986 properties of this type in this kind.

    - property: category
      external_name: category
      # Type: String Stats: 986 properties of this type in this kind.

    - property: thresholdSensitivity
      external_name: thresholdSensitivity
      # Type: Float Stats: 986 properties of this type in this kind.
      import_transform: transform.none_if_empty(float)

    - property: feedExpirationDate
      external_name: feedExpirationDate
      # Type: Date/Time Stats: 1 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: feedIsStale
      external_name: feedIsStale
      # Type: Boolean Stats: 48 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: numberOfFollowers
      external_name: numberOfFollowers
      # Type: Integer 
      import_transform: transform.none_if_empty(int)

    - property: previousInterestRank
      external_name: previousInterestRank
      # Type: Integer 
      import_transform: transform.none_if_empty(int)

    - property: version
      external_name: version
      # Type: String Stats: 986 properties of this type in this kind.

- kind: Comment
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: commentableItemId
      external_name: commentableItemId
      # Type: String Stats: 1 properties of this type in this kind.

    - property: content
      external_name: content
      # Type: String Stats: 1 properties of this type in this kind.

    - property: dateCreated
      external_name: dateCreated
      # Type: Date/Time Stats: 1 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: memberCreatorId
      external_name: memberCreatorId
      # Type: String Stats: 1 properties of this type in this kind.

    - property: memberCreatorUsername
      external_name: memberCreatorUsername
      # Type: String Stats: 1 properties of this type in this kind.


- kind: ConditionType
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 1 properties of this type in this kind.

    - property: conditionName
      external_name: conditionName
      # Type: String Stats: 432 properties of this type in this kind.

    - property: interestCategories
      external_name: interestCategories
      # Type: String Stats: 434 properties of this type in this kind.


- kind: ConsumerProfile
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: birthDate
      external_name: birthDate
      # Type: Date/Time Stats: 2 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: feedExpirationDate
      external_name: feedExpirationDate
      # Type: Date/Time Stats: 3 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: feedIsStale
      external_name: feedIsStale
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: gender
      external_name: gender
      # Type: String Stats: 3 properties of this type in this kind.

    - property: interestTags
      external_name: interestTags
      # Type: String Stats: 7 properties of this type in this kind.


- kind: FeedEdge
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: consumerId
      external_name: consumerId
      # Type: String Stats: 87 properties of this type in this kind.

    - property: feedItemClassName
      external_name: feedItemClassName
      # Type: String Stats: 87 properties of this type in this kind.

    - property: feedItemId
      external_name: feedItemId
      # Type: String Stats: 87 properties of this type in this kind.

    - property: sortedDate
      external_name: sortedDate
      # Type: Date/Time Stats: 87 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')


- kind: NewsItem
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 13 properties of this type in this kind.

    - property: category
      external_name: category
      # Type: String Stats: 1049 properties of this type in this kind.

    - property: content
      external_name: content
      # Type: String Stats: 945 properties of this type in this kind.

    - property: dateCreated
      external_name: dateCreated
      # Type: Date/Time Stats: 945 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: imageHeight
      external_name: imageHeight
      # Type: Integer Stats: 945 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: imageWidth
      external_name: imageWidth
      # Type: Integer Stats: 945 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: isReviewed
      external_name: isReviewed
      # Type: Boolean Stats: 945 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: publishDate
      external_name: publishDate
      # Type: Date/Time Stats: 945 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: title
      external_name: title
      # Type: String Stats: 945 properties of this type in this kind.

    - property: urlLink
      external_name: urlLink
      # Type: String Stats: 945 properties of this type in this kind.


- kind: NewsSource
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 1 properties of this type in this kind.

    - property: defaultCategories
      external_name: defaultCategories
      # Type: String Stats: 52 properties of this type in this kind.

    - property: isActive
      external_name: isActive
      # Type: Boolean Stats: 48 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: isGeneral
      external_name: isGeneral
      # Type: Boolean Stats: 48 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: mostRecentNewsDate
      external_name: mostRecentNewsDate
      # Type: Date/Time Stats: 48 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: name
      external_name: name
      # Type: String Stats: 48 properties of this type in this kind.

    - property: sourceHomeURL
      external_name: sourceHomeURL
      # Type: String Stats: 48 properties of this type in this kind.

    - property: sourceRSSLink
      external_name: sourceRSSLink
      # Type: String Stats: 48 properties of this type in this kind.


- kind: RegistrationCode
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: dateCreated
      external_name: dateCreated
      # Type: Date/Time Stats: 3 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: token
      external_name: token
      # Type: String Stats: 3 properties of this type in this kind.

    - property: username
      external_name: username
      # Type: String Stats: 3 properties of this type in this kind.


- kind: SecRole
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: authority
      external_name: authority
      # Type: String Stats: 2 properties of this type in this kind.


- kind: SecUserSecRole
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 6 properties of this type in this kind.

    - property: secRoleId
      external_name: secRoleId
      # Type: String Stats: 4 properties of this type in this kind.


- kind: SecUser
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: accountExpired
      external_name: accountExpired
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: accountLocked
      external_name: accountLocked
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: country
      external_name: country
      # Type: String Stats: 3 properties of this type in this kind.

    - property: dateCreated
      external_name: dateCreated
      # Type: Date/Time Stats: 3 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: emailOptIn
      external_name: emailOptIn
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: email
      external_name: email
      # Type: String Stats: 3 properties of this type in this kind.

    - property: enabled
      external_name: enabled
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: gender
      external_name: gender
      # Type: String Stats: 3 properties of this type in this kind.

    - property: lastLogin
      external_name: lastLogin
      # Type: Date/Time Stats: 3 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: passwordExpired
      external_name: passwordExpired
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: password
      external_name: password
      # Type: String Stats: 3 properties of this type in this kind.

    - property: priorLogin
      external_name: priorLogin
      # Type: Date/Time Stats: 3 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: termsAndPrivacyAccepted
      external_name: termsAndPrivacyAccepted
      # Type: Boolean Stats: 3 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: username
      external_name: username
      # Type: String Stats: 3 properties of this type in this kind.


- kind: TreatmentType
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 7 properties of this type in this kind.

    - property: activeIngredients
      external_name: activeIngredients
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: applicationNumber
      external_name: applicationNumber
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: dosage
      external_name: dosage
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: form
      external_name: form
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: interestCategories
      external_name: interestCategories
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: isDrug
      external_name: isDrug
      # Type: Boolean Stats: 1160 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: productMarketStatus
      external_name: productMarketStatus
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: productNumber
      external_name: productNumber
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: referenceDrug
      external_name: referenceDrug
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: tecCode
      external_name: tecCode
      # Type: String Stats: 1160 properties of this type in this kind.

    - property: treatmentTypeName
      external_name: treatmentTypeName
      # Type: String Stats: 1160 properties of this type in this kind.


- kind: _ah_SESSION
  connector: csv
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __scatter__
      external_name: __scatter__
      # Type: ShortBlob Stats: 1 properties of this type in this kind.

    - property: _expires
      external_name: _expires
      # Type: Integer Stats: 378 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: _values
      external_name: _values
      # Type: Blob Stats: 378 properties of this type in this kind.
      import_transform: transform.blobproperty_from_base64
      export_transform: base64.b64encode

